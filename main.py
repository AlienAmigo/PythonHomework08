# –ó–∞–¥–∞—á–∞ ‚Ññ55. –°–æ–∑–¥–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–º–ø–æ—Ä—Ç–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ .txt. –§–∞–º–∏–ª–∏—è, –∏–º—è, –æ—Ç—á–µ—Å—Ç–≤–æ, –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ - –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ñ–∞–π–ª–µ.
# –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
# –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–µ—Å—Ç–∏ –æ–¥–Ω—É –∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏(–ù–∞–ø—Ä–∏–º–µ—Ä –∏–º—è –∏–ª–∏ —Ñ–∞–º–∏–ª–∏—é —á–µ–ª–æ–≤–µ–∫–∞)
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π. –í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–∏–Ω–µ–π–Ω–æ–π
# 1) –°–æ–∑–¥–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫:    +++
# - –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ —Ä–µ–∂–∏–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (a)    +++
# 2) –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç:
# - –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   +++
# - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ   +++
# - –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ —Ä–µ–∂–∏–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (a)
# - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –≤ —Ñ–∞–π–ª
# 3) –í—ã–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ –Ω–∞ —ç–∫—Ä–∞–Ω:
# - –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ —Ä–µ–∂–∏–º–µ —á—Ç–µ–Ω–∏—è (r)
# - –í—ã–≤–µ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —ç–∫—Ä–∞–Ω
# 4) –ü–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö:
# - –ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–∏—Å–∫–∞
# - –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–∏—Å–∫–∞
# - –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ —Ä–µ–∂–∏–º–µ —á—Ç–µ–Ω–∏—è (r)
# - –û—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Ñ–∞–π–ª—É
# - –í—ã–≤–µ—Å—Ç–∏ –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —ç–∫—Ä–∞–Ω
# 5) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UI:
# - –í—ã–≤–µ—Å—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –º–µ–Ω—é   +++
# - –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   +++
# - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   +++
# - –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã   +++

class bcolors:
  HEADER = '\033[95m'
  OKBLUE = '\033[94m'
  OKCYAN = '\033[96m'
  OKGREEN = '\033[92m'
  WARNING = '\033[93m'
  FAIL = '\033[91m'
  ENDC = '\033[0m'
  BOLD = '\033[1m'
  UNDERLINE = '\033[4m'


def input_name():
  return input('–í–≤–µ–¥–∏—Ç–µ –∏–º—è: ')


def input_surname():
  return input('–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é: ')


def input_patronymic():
  return input('–í–≤–µ–¥–∏—Ç–µ –æ—Ç—á–µ—Å—Ç–≤–æ: ')


def input_phone():
  return input('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: ')


def input_address():
  return input('–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å: ')


def create_contact():
  surname = input_surname()
  name = input_name()
  patronymic = input_patronymic()
  phone = input_phone()
  address = input_address()

  return f'{surname} {name} {patronymic} {phone}\n{address}\n\n'


def add_contact():
  contact = create_contact()
  with open('phonebook.txt', 'a', encoding='utf-8') as file:
    file.write(contact)


def show_info():
  with open('phonebook.txt', 'r', encoding='utf-8') as file:
    contacts_list = file.read().strip().split('\n\n')
    # print(file.read().strip())
    for nn, contact in enumerate(contacts_list, 1):
      print(nn, contact)
    # print(*enumerate(contacts_list, 1))


def search_contact():

  print('–í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–∏—Å–∫–∞:\n' +
        bcolors.OKBLUE + '1. ' + bcolors.ENDC + '–ü–æ —Ñ–∞–º–∏–ª–∏–∏\n' +
        bcolors.OKBLUE + '2. ' + bcolors.ENDC + '–ü–æ –∏–º–µ–Ω–∏\n' +
        bcolors.OKBLUE + '3. ' + bcolors.ENDC + '–ü–æ –∞–¥—Ä–µ—Å—É\n' +
        bcolors.OKBLUE + '4. ' + bcolors.ENDC + '–ü–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞\n' +
        bcolors.OKBLUE + '5. ' + bcolors.ENDC + '–ü–æ –∞–¥—Ä–µ—Å—É\n'
        )
  var_search = input('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–∏—Å–∫–∞: ')

  while var_search.strip() not in ('1', '2', '3', '4', '5'):
    print(bcolors.FAIL + '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ (1-5): ', bcolors.ENDC)
    var_search = input('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–∏—Å–∫–∞: ')

  index_var = int(var_search) - 1
  search = input('–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–∏—Å–∫–∞: ')
  with open('phonebook.txt', 'r', encoding='utf-8') as file:
    contacts_list = file.read().strip().split('\n\n')

  for contact_str in contacts_list:
    contact_lst = contact_str.replace('\n', ' ').split()
    if search in contact_lst[index_var]:
      print(contact_str)


def interface():
  with open('phonebook.txt', 'a', encoding='utf-8'):
    pass

  command = '-1'

  while command != '4':
    print('–í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:\n' +
          bcolors.OKGREEN + '1. ' + bcolors.ENDC + '–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç ‚ûï \n' +
          bcolors.OKGREEN + '2. ' + bcolors.ENDC + '–í—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω üìã \n' +
          bcolors.OKGREEN + '3. ' + bcolors.ENDC + '–ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞ üîé \n' +
          bcolors.OKGREEN + '4. ' + bcolors.ENDC + '–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã üö™ \n'
          )

    command = input('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–µ–π—Å—Ç–≤–∏—è: ')

    while command.strip() not in ('1', '2', '3', '4'):
      print(bcolors.FAIL + '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ (1-4) ', bcolors.ENDC)
      command = input('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–µ–π—Å—Ç–≤–∏—è: ')

    match command:
      case '1':
        add_contact()
      case '2':
        show_info()
      case '3':
        search_contact()
      case '4':
        print(bcolors.OKGREEN + 'Good Luck!'+bcolors.ENDC, 'üëç')


interface()
